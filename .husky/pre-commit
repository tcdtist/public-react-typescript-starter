#!/usr/bin/env sh
set -e

echo "ğŸ” Running pre-commit checks..."

# Format code
bun run format
git add .

# ESLint strict check
bun run lint:check || (
  echo "âŒ ESLint errors detected."
  exit 1
)

# Prettier strict check
bun run prettier:check || (
  echo "âŒ Prettier issues detected (should have been fixed)."
  exit 1
)

npx lint-staged

echo "âœ… Pre-commit checks passed!"
